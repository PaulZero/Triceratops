/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/codemirror@5.53.2/src/display/focus.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{restartBlink}from"./selection.js";import{webkit}from"../util/browser.js";import{addClass,rmClass}from"../util/dom.js";import{signal}from"../util/event.js";export function ensureFocus(e){e.state.focused||(e.display.input.focus(),onFocus(e))}export function delayBlurEvent(e){e.state.delayingBlurEvent=!0,setTimeout(()=>{e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,onBlur(e))},100)}export function onFocus(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(signal(e,"focus",e,t),e.state.focused=!0,addClass(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),webkit&&setTimeout(()=>e.display.input.reset(!0),20)),e.display.input.receivedFocus()),restartBlink(e))}export function onBlur(e,t){e.state.delayingBlurEvent||(e.state.focused&&(signal(e,"blur",e,t),e.state.focused=!1,rmClass(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(()=>{e.state.focused||(e.display.shift=!1)},150))}
//# sourceMappingURL=/sm/1bd85406d064b12a0ebab7724afc51b428afa1355c324c9c5bc7ad1bfc5097ae.map