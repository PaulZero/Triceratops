@model Triceratops.Libraries.Models.View.ServerViewModel[]
@using Triceratops.Dashboard.Views
@using Triceratops.Libraries.Helpers

@{
    ViewData["Title"] = "Servers";
}

<div class="text-center">
    <h1>Servers</h1>

    <h2>Create New Server</h2>

    @foreach (var serverType in ServerTypeHelper.AllowedServerTypes)
    {
        <p>@Html.RouteLink(serverType.ToString(), "Server_Create", new { serverType })</p>
    }

    <h2>Existing Servers</h2>

    @foreach (var server in Model)
    {
        <h3>@server.Name (@server.ServerType)</h3>
        <p>
            @{ 
                var serverRouteValues = new { guid = server.ServerId };
            }
            @Html.ConditionalRouteLink(!server.AllRunning, "Start", "StartServer", serverRouteValues) |
            @Html.ConditionalRouteLink(server.AllRunning, "Stop", "StopServer", serverRouteValues) |
            @Html.ConditionalRouteLink(server.AllRunning, "Restart", "RestartServer", serverRouteValues)
        </p>
    }
</div>
